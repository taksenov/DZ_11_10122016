<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
        HomeWork #11 -- VK.api MVC pattern
    </title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
    <!-- Custom styles -->
    <link rel="stylesheet" href="style/style.css">
</head>
<body>

    <!-- Main container -->
    <div class="container">

        <!-- Header insert here -->
        <div id="header"></div>

        <!-- Routing buttons -->
        <div class="btn-group btn-group-lg">
            <button type="button" class="btn btn-default" onclick="Router.handle('music')">Музыка</button>
            <button type="button" class="btn btn-default" onclick="Router.handle('friends')">Друзья</button>
            <button type="button" class="btn btn-default" onclick="Router.handle('news')">Новости</button>
            <button type="button" class="btn btn-default" onclick="Router.handle('groups')">Группы</button>
            <button type="button" class="btn btn-default" onclick="Router.handle('photos')">Фотографии</button>
        </div>

        <hr>
        <!-- Results insert here -->
        <div id="results"></div>

    </div>
    <!-- Main container -->

    <!-- Handlebars templates -->

    <script type="text/x-handlebars-template" id="headerTemplate">
        <h1>Данные из VK-аккаунта: {{first_name}} {{last_name}}</h1>
    </script>

    <script type="text/x-handlebars-template" id="musicTemplate">
        <ul class="list-group" id="audioList">
            {{#each list}}
            <li class="list-group-item">
                <div class="row">
                    <div class="col-xs-10">
                        <span class="title">{{{artist}}} - {{{title}}}</span>
                    </div>
                    <div class="col-xs-2 text-right">{{formatTime duration}}</div>
                </div>
            </li>
            {{/each}}
        </ul>
    </script>

    <script type="text/x-handlebars-template" id="friendsTemplate">
        <div id="friendsList">
            {{#each list}}
            <div class="friend text-center">
                <img src="{{photo_100}}" class="img-circle">
                <div>{{first_name}}<br>{{last_name}}</div>
            </div>
            {{/each}}
        </div>
    </script>

    <script type="text/x-handlebars-template" id="groupsTemplate">
        <div id="groupsList">
            {{#each list}}
            <div class="friend text-center">
                <img src="{{photo_100}}" class="img-circle">
                <div>{{name}}</div>
            </div>
            {{/each}}
        </div>
    </script>

    <script type="text/x-handlebars-template" id="photosTemplate">
        <div id="photosList">
            {{#each list}}
            <div class="col-md-12">
                <img src="{{photo_604}}" class="img-rounded center-block">
                <div class="text-center">
                    <i class="fa fa-heart" aria-hidden="true"></i>: {{likes.count}} / <i class="fa fa-comments" aria-hidden="true"></i>: {{comments.count}} / <i class="fa fa-share-alt" aria-hidden="true"></i>: {{reposts.count}}
                </div>
                <div class="text-center">
                    <ul>
                        {{#each list.customComments}}
                            <li></li>
                        {{/each}}
                    </ul>
                </div>
                <hr>
            </div>
            {{/each}}
        </div>
    </script>

    <script type="text/x-handlebars-template" id="newsTemplate">
        <div class="news">
            {{#each list}}
            {{#if text}}
            <div class="post">
                <b>{{formatDate date}}</b>
                <div class="post-text">{{{text}}}</div>
            </div>
            <hr>
            {{/if}}
            {{/each}}
        </div>
    </script>
    <!-- Handlebars templates -->

<!--     <!~~ HandlebarsJS Template ~~>
    <script type="text/x-handlebars-template" id="allRenderedFriends">
        {{#each friendslist}}
            <div class="row friend_block__design">
                <div class="col-md-2">
                    <img src="{{photo_50}}" alt="{{last_name}} {{first_name}}">
                </div>
                <div class="col-md-10">
                    <span class="friend__fullname">
                        {{last_name}} {{first_name}}
                    </span>
                     <br>
                    <span class="friend__birthdate">
                        {{bdate}}
                    </span>
                    <br>
                    <span class="friend__id">
                        id: {{id}}
                    </span>
                </div>
            </div>
        {{/each}}
    </script> -->

    <script type"text/javascript" src="https://vk.com/js/api/openapi.js"></script>
    <!-- HandlebarsJS -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js"></script>
    <!-- CustomJS -->
    <!-- <script type="text/javascript" src="script.js"></script> -->
    <script src="script/model.js"></script>
    <script src="script/view.js"></script>
    <script src="script/controller.js"></script>
    <script src="script/router.js"></script>
    <script src="script/entry.js"></script>
</body>
</html>
